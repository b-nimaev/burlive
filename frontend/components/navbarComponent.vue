<template>
  <nav :class="{ expanded: navbarIsExpanded }">
    <!-- Logotype -->
    <div class="logotype">
      <h4 class="title">
        <NuxtLink to="/">
          <svg width="143" height="52" viewBox="0 0 143 52" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M15.44 2.972C18.056 2.972 20.108 3.512 21.596 4.592C23.108 5.648 23.864 7.304 23.864 9.56C23.864 10.928 23.552 12.116 22.928 13.124C22.304 14.132 21.428 14.924 20.3 15.5C19.196 16.076 17.888 16.4 16.376 16.472L15.872 14.672C17.624 14.72 19.196 15.032 20.588 15.608C21.98 16.184 23.084 16.988 23.9 18.02C24.716 19.052 25.124 20.276 25.124 21.692C25.124 22.988 24.884 24.104 24.404 25.04C23.924 25.952 23.276 26.708 22.46 27.308C21.644 27.884 20.72 28.316 19.688 28.604C18.656 28.868 17.588 29 16.484 29H8.744V2.972H15.44ZM16.16 14.384C17.6 14.384 18.644 13.988 19.292 13.196C19.94 12.38 20.264 11.396 20.264 10.244C20.264 8.876 19.844 7.88 19.004 7.256C18.164 6.632 17.036 6.32 15.62 6.32H12.236V14.384H16.16ZM16.304 25.76C17.264 25.76 18.14 25.616 18.932 25.328C19.748 25.04 20.384 24.596 20.84 23.996C21.32 23.396 21.56 22.64 21.56 21.728C21.56 20.72 21.284 19.928 20.732 19.352C20.204 18.776 19.52 18.368 18.68 18.128C17.84 17.864 16.976 17.732 16.088 17.732H12.236V25.76H16.304ZM36.3259 29.576C34.9819 29.576 33.8659 29.168 32.9779 28.352C32.1139 27.512 31.6579 26.432 31.6099 25.112V14.096H34.9579V23.924C35.0059 24.74 35.2339 25.4 35.6419 25.904C36.0739 26.408 36.7459 26.672 37.6579 26.696C38.4979 26.696 39.2419 26.456 39.8899 25.976C40.5619 25.472 41.1019 24.8 41.5099 23.96C41.9179 23.096 42.1219 22.124 42.1219 21.044V14.096H45.4699V29H42.4099L42.1219 25.328L42.3019 25.976C42.0139 26.672 41.5699 27.296 40.9699 27.848C40.3939 28.376 39.7099 28.796 38.9179 29.108C38.1259 29.42 37.2619 29.576 36.3259 29.576ZM55.6903 14.096L56.0143 18.416L55.8343 17.84C56.2183 16.928 56.7703 16.16 57.4903 15.536C58.2343 14.888 59.0023 14.396 59.7943 14.06C60.6103 13.7 61.3183 13.52 61.9183 13.52L61.7383 16.832C60.6103 16.76 59.6143 16.976 58.7503 17.48C57.9103 17.984 57.2383 18.656 56.7343 19.496C56.2543 20.336 56.0143 21.236 56.0143 22.196V29H52.7023V14.096H55.6903ZM68.5054 2.972H71.9974V25.652H85.2094V29H68.5054V2.972ZM91.5119 14.096H94.8599V29H91.5119V14.096ZM91.2599 8.696C91.2599 8.168 91.4639 7.724 91.8719 7.364C92.3039 7.004 92.7719 6.824 93.2759 6.824C93.7799 6.824 94.2239 7.004 94.6079 7.364C95.0159 7.724 95.2199 8.168 95.2199 8.696C95.2199 9.248 95.0159 9.704 94.6079 10.064C94.2239 10.4 93.7799 10.568 93.2759 10.568C92.7719 10.568 92.3039 10.388 91.8719 10.028C91.4639 9.668 91.2599 9.224 91.2599 8.696ZM108.141 29.432L99.8606 14.096H103.821L109.437 25.94L107.385 25.868L112.533 14.096H116.277L108.321 29.432H108.141ZM127.882 29.36C126.178 29.36 124.714 29.024 123.49 28.352C122.266 27.656 121.318 26.72 120.646 25.544C119.998 24.344 119.674 22.976 119.674 21.44C119.674 19.976 120.046 18.644 120.79 17.444C121.534 16.244 122.53 15.284 123.778 14.564C125.026 13.844 126.418 13.484 127.954 13.484C129.922 13.484 131.554 14.06 132.85 15.212C134.146 16.364 135.022 17.948 135.478 19.964L123.202 24.284L122.41 22.304L132.49 18.632L131.77 19.1C131.482 18.308 131.002 17.624 130.33 17.048C129.658 16.448 128.782 16.148 127.702 16.148C126.79 16.148 125.974 16.376 125.254 16.832C124.534 17.264 123.97 17.864 123.562 18.632C123.154 19.4 122.95 20.276 122.95 21.26C122.95 22.292 123.166 23.204 123.598 23.996C124.03 24.764 124.618 25.376 125.362 25.832C126.13 26.264 126.994 26.48 127.954 26.48C128.602 26.48 129.226 26.36 129.826 26.12C130.45 25.88 131.026 25.568 131.554 25.184L133.102 27.668C132.358 28.172 131.518 28.58 130.582 28.892C129.67 29.204 128.77 29.36 127.882 29.36Z"
              fill="white" />
            <path
              d="M13.52 43.44L8.96 48.42L9.02 47.04L13.58 42.06L13.52 43.44ZM9.92 42.48V47.1L8.96 48.42V42.48H9.92ZM13.58 42.06V48H12.62V43.38L13.58 42.06ZM18.3551 45.24V44.64C18.7231 44.64 18.9871 44.572 19.1471 44.436C19.3071 44.292 19.3871 44.12 19.3871 43.92C19.3871 43.704 19.3071 43.536 19.1471 43.416C18.9871 43.288 18.7631 43.224 18.4751 43.224C18.2351 43.224 18.0351 43.272 17.8751 43.368C17.7231 43.456 17.6111 43.568 17.5391 43.704C17.4671 43.832 17.4311 43.96 17.4311 44.088H16.4591C16.4591 43.776 16.5471 43.488 16.7231 43.224C16.8991 42.96 17.1391 42.752 17.4431 42.6C17.7471 42.44 18.0911 42.36 18.4751 42.36C18.8351 42.36 19.1591 42.428 19.4471 42.564C19.7351 42.7 19.9591 42.88 20.1191 43.104C20.2871 43.328 20.3711 43.576 20.3711 43.848C20.3711 44.248 20.1911 44.58 19.8311 44.844C19.4791 45.108 18.9871 45.24 18.3551 45.24ZM18.4511 48.12C17.8031 48.12 17.2831 47.944 16.8911 47.592C16.5071 47.24 16.2831 46.796 16.2191 46.26H17.1911C17.2471 46.524 17.3671 46.76 17.5511 46.968C17.7351 47.176 18.0351 47.28 18.4511 47.28C18.7071 47.28 18.9231 47.244 19.0991 47.172C19.2831 47.1 19.4231 46.996 19.5191 46.86C19.6151 46.724 19.6631 46.568 19.6631 46.392C19.6631 46.2 19.6111 46.036 19.5071 45.9C19.4111 45.764 19.2631 45.66 19.0631 45.588C18.8711 45.516 18.6351 45.48 18.3551 45.48V44.88C19.0431 44.88 19.5911 45 19.9991 45.24C20.4071 45.48 20.6111 45.86 20.6111 46.38C20.6111 46.74 20.5111 47.052 20.3111 47.316C20.1191 47.572 19.8591 47.772 19.5311 47.916C19.2031 48.052 18.8431 48.12 18.4511 48.12ZM27.3289 42.48L23.7289 50.64H22.6489L24.1609 47.22L22.0489 42.48H23.1889L24.9409 46.8L24.5449 46.752L26.2489 42.48H27.3289ZM31.0541 46.32V45.42H32.9381V46.32H31.0541ZM32.2541 42.48H33.2141V48H32.2541V42.48ZM29.8541 42.48V44.064C29.8541 44.384 29.8901 44.644 29.9621 44.844C30.0341 45.044 30.1581 45.192 30.3341 45.288C30.5101 45.376 30.7501 45.42 31.0541 45.42V46.32C30.5021 46.32 30.0661 46.244 29.7461 46.092C29.4341 45.94 29.2141 45.7 29.0861 45.372C28.9581 45.036 28.8941 44.6 28.8941 44.064V42.48H29.8541ZM36.1103 45.48V44.664H39.7943C39.7623 44.376 39.6823 44.124 39.5543 43.908C39.4343 43.684 39.2623 43.512 39.0383 43.392C38.8223 43.264 38.5543 43.2 38.2343 43.2C37.9143 43.2 37.6223 43.268 37.3583 43.404C37.0943 43.54 36.8823 43.736 36.7223 43.992C36.5703 44.24 36.4943 44.536 36.4943 44.88L36.4703 45.24C36.4703 45.664 36.5423 46.024 36.6863 46.32C36.8303 46.616 37.0343 46.84 37.2983 46.992C37.5623 47.144 37.8743 47.22 38.2343 47.22C38.5063 47.22 38.7463 47.18 38.9543 47.1C39.1703 47.012 39.3623 46.896 39.5303 46.752C39.6983 46.6 39.8423 46.424 39.9623 46.224L40.7423 46.716C40.5583 46.996 40.3543 47.244 40.1303 47.46C39.9063 47.668 39.6343 47.832 39.3143 47.952C38.9943 48.064 38.5943 48.12 38.1143 48.12C37.6183 48.12 37.1703 47.996 36.7703 47.748C36.3783 47.5 36.0663 47.16 35.8343 46.728C35.6103 46.288 35.4983 45.792 35.4983 45.24C35.4983 45.136 35.5023 45.036 35.5103 44.94C35.5183 44.844 35.5303 44.748 35.5463 44.652C35.6263 44.196 35.7863 43.796 36.0263 43.452C36.2663 43.108 36.5743 42.84 36.9503 42.648C37.3343 42.456 37.7623 42.36 38.2343 42.36C38.7543 42.36 39.2103 42.476 39.6023 42.708C39.9943 42.94 40.2983 43.268 40.5143 43.692C40.7303 44.108 40.8383 44.608 40.8383 45.192C40.8383 45.24 40.8383 45.288 40.8383 45.336C40.8383 45.384 40.8343 45.432 40.8263 45.48H36.1103ZM43.6781 45.54V44.64H47.7581V45.54H43.6781ZM47.1341 42.48H48.0941V48H47.1341V42.48ZM43.1141 42.48H44.0741V48H43.1141V42.48ZM55.4792 43.44L50.9192 48.42L50.9792 47.04L55.5392 42.06L55.4792 43.44ZM51.8792 42.48V47.1L50.9192 48.42V42.48H51.8792ZM55.5392 42.06V48H54.5792V43.38L55.5392 42.06ZM58.4903 45.48V44.664H62.1743C62.1423 44.376 62.0623 44.124 61.9343 43.908C61.8143 43.684 61.6423 43.512 61.4183 43.392C61.2023 43.264 60.9343 43.2 60.6143 43.2C60.2943 43.2 60.0023 43.268 59.7383 43.404C59.4743 43.54 59.2623 43.736 59.1023 43.992C58.9503 44.24 58.8743 44.536 58.8743 44.88L58.8503 45.24C58.8503 45.664 58.9223 46.024 59.0663 46.32C59.2103 46.616 59.4143 46.84 59.6783 46.992C59.9423 47.144 60.2543 47.22 60.6143 47.22C60.8863 47.22 61.1263 47.18 61.3343 47.1C61.5503 47.012 61.7423 46.896 61.9103 46.752C62.0783 46.6 62.2223 46.424 62.3423 46.224L63.1223 46.716C62.9383 46.996 62.7343 47.244 62.5103 47.46C62.2863 47.668 62.0143 47.832 61.6943 47.952C61.3743 48.064 60.9743 48.12 60.4943 48.12C59.9983 48.12 59.5503 47.996 59.1503 47.748C58.7583 47.5 58.4463 47.16 58.2143 46.728C57.9903 46.288 57.8783 45.792 57.8783 45.24C57.8783 45.136 57.8823 45.036 57.8903 44.94C57.8983 44.844 57.9103 44.748 57.9263 44.652C58.0063 44.196 58.1663 43.796 58.4063 43.452C58.6463 43.108 58.9543 42.84 59.3303 42.648C59.7143 42.456 60.1423 42.36 60.6143 42.36C61.1343 42.36 61.5903 42.476 61.9823 42.708C62.3743 42.94 62.6783 43.268 62.8943 43.692C63.1103 44.108 63.2183 44.608 63.2183 45.192C63.2183 45.24 63.2183 45.288 63.2183 45.336C63.2183 45.384 63.2143 45.432 63.2063 45.48H58.4903ZM72.4277 43.26V42.36C72.9717 42.36 73.4557 42.484 73.8797 42.732C74.3117 42.98 74.6517 43.32 74.8997 43.752C75.1557 44.184 75.2837 44.68 75.2837 45.24C75.2837 45.792 75.1557 46.288 74.8997 46.728C74.6517 47.16 74.3117 47.5 73.8797 47.748C73.4557 47.996 72.9717 48.12 72.4277 48.12C71.8917 48.12 71.4077 47.988 70.9757 47.724C70.5437 47.452 70.1997 47.048 69.9437 46.512C69.6957 45.976 69.5717 45.312 69.5717 44.52L70.5317 45.24C70.5317 45.624 70.6157 45.964 70.7837 46.26C70.9517 46.556 71.1757 46.792 71.4557 46.968C71.7437 47.136 72.0677 47.22 72.4277 47.22C72.7877 47.22 73.1077 47.136 73.3877 46.968C73.6757 46.792 73.8997 46.556 74.0597 46.26C74.2277 45.964 74.3117 45.624 74.3117 45.24C74.3117 44.856 74.2277 44.516 74.0597 44.22C73.8997 43.916 73.6757 43.68 73.3877 43.512C73.1077 43.344 72.7877 43.26 72.4277 43.26ZM70.0997 45.24C70.0997 44.792 70.1557 44.392 70.2677 44.04C70.3797 43.68 70.5397 43.376 70.7477 43.128C70.9557 42.88 71.1997 42.692 71.4797 42.564C71.7677 42.428 72.0837 42.36 72.4277 42.36V43.26C72.2197 43.26 72.0037 43.304 71.7797 43.392C71.5557 43.48 71.3477 43.608 71.1557 43.776C70.9717 43.944 70.8197 44.152 70.6997 44.4C70.5877 44.64 70.5317 44.92 70.5317 45.24H70.0997ZM69.5717 44.52C69.5717 43.768 69.6437 43.104 69.7877 42.528C69.9317 41.952 70.1837 41.464 70.5437 41.064C70.9117 40.656 71.4157 40.344 72.0557 40.128C72.5997 39.944 73.0037 39.724 73.2677 39.468C73.5397 39.204 73.7037 38.928 73.7597 38.64H74.7077C74.6677 38.992 74.5397 39.316 74.3237 39.612C74.1077 39.9 73.8237 40.152 73.4717 40.368C73.1277 40.584 72.7357 40.764 72.2957 40.908C71.7997 41.068 71.4117 41.308 71.1317 41.628C70.8597 41.948 70.6717 42.312 70.5677 42.72C70.4637 43.12 70.4117 43.52 70.4117 43.92V45.156L69.5717 44.52ZM81.9425 42.48L78.3425 50.64H77.2625L78.7745 47.22L76.6625 42.48H77.8025L79.5545 46.8L79.1585 46.752L80.8625 42.48H81.9425ZM84.7077 50.64H83.7477V42.48H84.7077V50.64ZM89.3277 45.24C89.3277 45.832 89.2037 46.344 88.9557 46.776C88.7077 47.208 88.3757 47.54 87.9597 47.772C87.5517 48.004 87.0957 48.12 86.5917 48.12C86.1357 48.12 85.7317 48.004 85.3797 47.772C85.0357 47.54 84.7637 47.208 84.5637 46.776C84.3717 46.344 84.2757 45.832 84.2757 45.24C84.2757 44.64 84.3717 44.128 84.5637 43.704C84.7637 43.272 85.0357 42.94 85.3797 42.708C85.7317 42.476 86.1357 42.36 86.5917 42.36C87.0957 42.36 87.5517 42.476 87.9597 42.708C88.3757 42.94 88.7077 43.272 88.9557 43.704C89.2037 44.128 89.3277 44.64 89.3277 45.24ZM88.3557 45.24C88.3557 44.816 88.2677 44.456 88.0917 44.16C87.9237 43.864 87.6957 43.64 87.4077 43.488C87.1277 43.336 86.8157 43.26 86.4717 43.26C86.1917 43.26 85.9157 43.336 85.6437 43.488C85.3717 43.64 85.1477 43.864 84.9717 44.16C84.7957 44.456 84.7077 44.816 84.7077 45.24C84.7077 45.664 84.7957 46.024 84.9717 46.32C85.1477 46.616 85.3717 46.84 85.6437 46.992C85.9157 47.144 86.1917 47.22 86.4717 47.22C86.8157 47.22 87.1277 47.144 87.4077 46.992C87.6957 46.84 87.9237 46.616 88.0917 46.32C88.2677 46.024 88.3557 45.664 88.3557 45.24ZM92.4034 48H91.3474L93.3874 45.12H94.4434L92.4034 48ZM95.9074 48H94.9474V42.48H95.9074V48ZM95.3434 44.952V45.792H93.6274C93.2514 45.792 92.9074 45.736 92.5954 45.624C92.2914 45.512 92.0514 45.336 91.8754 45.096C91.6994 44.848 91.6114 44.528 91.6114 44.136C91.6114 43.736 91.6994 43.416 91.8754 43.176C92.0514 42.936 92.2914 42.76 92.5954 42.648C92.9074 42.536 93.2514 42.48 93.6274 42.48H95.3434V43.32H93.6274C93.3954 43.32 93.1994 43.352 93.0394 43.416C92.8874 43.472 92.7714 43.56 92.6914 43.68C92.6114 43.8 92.5714 43.952 92.5714 44.136C92.5714 44.32 92.6114 44.472 92.6914 44.592C92.7714 44.712 92.8874 44.804 93.0394 44.868C93.1994 44.924 93.3954 44.952 93.6274 44.952H95.3434ZM97.5322 42.48H100.772V43.38H97.5322V42.48ZM98.6722 42.72H99.6322V48H98.6722V42.72ZM102.952 45.24C102.952 45.624 103.032 45.964 103.192 46.26C103.36 46.556 103.584 46.792 103.864 46.968C104.152 47.136 104.476 47.22 104.836 47.22C105.132 47.22 105.408 47.176 105.664 47.088C105.928 46.992 106.156 46.868 106.348 46.716C106.54 46.556 106.676 46.388 106.756 46.212V47.412C106.564 47.636 106.288 47.812 105.928 47.94C105.576 48.06 105.212 48.12 104.836 48.12C104.3 48.12 103.816 47.996 103.384 47.748C102.952 47.5 102.608 47.16 102.352 46.728C102.104 46.288 101.98 45.792 101.98 45.24C101.98 44.68 102.104 44.184 102.352 43.752C102.608 43.32 102.952 42.98 103.384 42.732C103.816 42.484 104.3 42.36 104.836 42.36C105.212 42.36 105.576 42.424 105.928 42.552C106.288 42.672 106.564 42.844 106.756 43.068V44.268C106.676 44.084 106.54 43.916 106.348 43.764C106.156 43.612 105.928 43.492 105.664 43.404C105.408 43.308 105.132 43.26 104.836 43.26C104.476 43.26 104.152 43.344 103.864 43.512C103.584 43.68 103.36 43.916 103.192 44.22C103.032 44.516 102.952 44.856 102.952 45.24ZM109.15 42.48H110.11V48H109.15V42.48ZM112.15 42.48H113.35L110.95 44.76L113.59 48H112.39L109.75 44.76L112.15 42.48ZM114.8 45.24C114.8 44.68 114.924 44.184 115.172 43.752C115.428 43.32 115.772 42.98 116.204 42.732C116.636 42.484 117.12 42.36 117.656 42.36C118.2 42.36 118.684 42.484 119.108 42.732C119.54 42.98 119.88 43.32 120.128 43.752C120.384 44.184 120.512 44.68 120.512 45.24C120.512 45.792 120.384 46.288 120.128 46.728C119.88 47.16 119.54 47.5 119.108 47.748C118.684 47.996 118.2 48.12 117.656 48.12C117.12 48.12 116.636 47.996 116.204 47.748C115.772 47.5 115.428 47.16 115.172 46.728C114.924 46.288 114.8 45.792 114.8 45.24ZM115.772 45.24C115.772 45.624 115.852 45.964 116.012 46.26C116.18 46.556 116.404 46.792 116.684 46.968C116.972 47.136 117.296 47.22 117.656 47.22C118.016 47.22 118.336 47.136 118.616 46.968C118.904 46.792 119.128 46.556 119.288 46.26C119.456 45.964 119.54 45.624 119.54 45.24C119.54 44.856 119.456 44.516 119.288 44.22C119.128 43.916 118.904 43.68 118.616 43.512C118.336 43.344 118.016 43.26 117.656 43.26C117.296 43.26 116.972 43.344 116.684 43.512C116.404 43.68 116.18 43.916 116.012 44.22C115.852 44.516 115.772 44.856 115.772 45.24ZM122.85 42.48H125.79V43.38H123.81V48H122.85V42.48ZM127.055 45.24C127.055 44.68 127.179 44.184 127.427 43.752C127.683 43.32 128.027 42.98 128.459 42.732C128.891 42.484 129.375 42.36 129.911 42.36C130.455 42.36 130.939 42.484 131.363 42.732C131.795 42.98 132.135 43.32 132.383 43.752C132.639 44.184 132.767 44.68 132.767 45.24C132.767 45.792 132.639 46.288 132.383 46.728C132.135 47.16 131.795 47.5 131.363 47.748C130.939 47.996 130.455 48.12 129.911 48.12C129.375 48.12 128.891 47.996 128.459 47.748C128.027 47.5 127.683 47.16 127.427 46.728C127.179 46.288 127.055 45.792 127.055 45.24ZM128.027 45.24C128.027 45.624 128.107 45.964 128.267 46.26C128.435 46.556 128.659 46.792 128.939 46.968C129.227 47.136 129.551 47.22 129.911 47.22C130.271 47.22 130.591 47.136 130.871 46.968C131.159 46.792 131.383 46.556 131.543 46.26C131.711 45.964 131.795 45.624 131.795 45.24C131.795 44.856 131.711 44.516 131.543 44.22C131.383 43.916 131.159 43.68 130.871 43.512C130.591 43.344 130.271 43.26 129.911 43.26C129.551 43.26 129.227 43.344 128.939 43.512C128.659 43.68 128.435 43.916 128.267 44.22C128.107 44.516 128.027 44.856 128.027 45.24Z"
              fill="white" />
          </svg>
        </NuxtLink>
        <!-- <NuxtLink to="/">BurLive</NuxtLink> -->
      </h4>
      <div class="description">
        <!-- <p>Изучение бурятского</p> -->
      </div>
    </div>

    <!-- Right Side Menu -->
    <div class="menu-wrapper">
      <div class="menu-content">
        <div class="theme-switcher">
          <button class="btn btn-sm" :class="{ active: themeStore.isLightTheme }" @click="setTheme('light')">
            <i class="bi bi-sun"></i>
          </button>
          <button class="btn btn-sm" :class="{ active: !themeStore.isLightTheme }" @click="setTheme('dark')">
            <i class="bi bi-moon"></i>
          </button>
        </div>
        <ul class="menu">
          <li>
            <NuxtLink @click="closeNavbar()" to="/">Главная</NuxtLink>
          </li>
          <li>
            <NuxtLink @click="closeNavbar()" to="/roadmap">Дорожная карта</NuxtLink>
          </li>
          <li>
            <NuxtLink @click="closeNavbar()" to="/users">Пользователи</NuxtLink>
          </li>
          <li>
            <NuxtLink @click="closeNavbar()" to="/vocabulary">Словарь</NuxtLink>
          </li>
          <li>
            <NuxtLink @click="closeNavbar()" to="/users">Самоучитель</NuxtLink>
          </li>
          <li>
            <NuxtLink @click="closeNavbar()" to="/sentences">Предложения</NuxtLink>
          </li>
          <!-- <li>
        <NuxtLink to="/dialogs">Диалоги</NuxtLink>
      </li> -->
        </ul>
        <div class="userdata" v-if="isAuthed">
          <div v-if="user.isLoading">
            <p>Загрузка</p>
          </div>
          <div v-else-if="user.firstName">
            <NuxtLink @click="closeNavbar()" class="to-dashboard" to="/dashboard">
              <h6>{{ user.firstName }}</h6>
            </NuxtLink>
          </div>
          <div v-else-if="user.username">
            <NuxtLink @click="closeNavbar()" class="to-dashboard" to="/dashboard">
              <h6>{{ user.username }}</h6>
            </NuxtLink>
          </div>
        </div>
        <div v-else class="my-auto auth">
          <p class="mb-0">
            <NuxtLink @click="closeNavbar()" to="/auth">Вход</NuxtLink>
          </p>
        </div>
        <div class="logout">
          <p v-if="token"><a href="javascript:void(0)"><i class="bi bi-box-arrow-left"></i> <span>Выйти</span></a></p>
          <button @click="themeStore.closeNavbar()" class="btn btn-sm btn-dark"
            style="display: flex; padding: 3px 12px; border-radius: 5px; font-size: 14px;"><i class="bi bi-x-square"
              style="margin-right: 5px; margin-top: 1px;"></i> <span>Закрыть</span></button>
        </div>
      </div>
      <button class="btn btn-dark menu-toggler" @click="themeStore.openNavbar()">Меню</button>
    </div>
  </nav>
</template>

<script lang="ts" setup>
import { storeToRefs } from "pinia"; // import storeToRefs helper hook from pinia
import { useUserStore } from "~/stores/userStore2";
import { useThemeStore } from "@/stores/themeStore"; // Импортируем наше новое хранилище
import { useAuthStore } from "@/stores/auth/login"; // Импортируем наше новое хранилище
const userAuthStore = useAuthStore();
const userStore = useUserStore();
const themeStore = useThemeStore(); // Используем хранилище темы
const { navbarIsExpanded } = storeToRefs(themeStore);
const token = ref(useCookie("token").value);
const isAuthed = storeToRefs(userAuthStore).authenticated

const user = computed(() => userStore.user); // Реактивное свойство для доступа к пользователю

// Функция для смены темы через хранилище
const setTheme = (theme: string) => {
  themeStore.setTheme(theme);
  useCookie("theme").value = theme
  useCookie("theme", {
      maxAge: 60 * 60 * 24 * 12
  })
};
onBeforeMount(() => {
  const token = useCookie("token").value
  if (token) {
    isAuthed.value = true
  }
})

const closeNavbar = async () => {
  themeStore.closeNavbar()
}
</script>

<style lang="scss" scoped>
.menu-toggler {
  display: none;
}
.logotype {
  h4,
  p {
    margin-bottom: 0;
  }
}
.logout {
  display: none;
  margin: 1rem auto 2rem 3.5rem;
  a {
    display: flex;
    width: fit-content;
    padding: 5px 15px;
    background-color: #111;
    color: #eee;
    border-radius: 5px;
    i {
      display: block;
      margin-right: 5px;
    }
  }
}
.menu-wrapper {
  display: flex;
  margin: auto 0 auto auto;
  position: relative;
}
.menu-content {
  display: flex;
  margin: auto 0 auto auto;
  position: relative;
}

.auth {
  // margin-left: 3.5rem;
  margin-left: 1rem;
  margin-top: 1rem !important;
  margin-bottom: 1rem !important;
}
.theme-switcher {
  margin: auto 0 auto auto;
  background-color: var(--notify-background-color);
  display: flex;
  border-radius: 1rem;
  transition: 400ms;
}
.btn-sm {
  border-radius: 1rem;
  font-size: 12px;
  padding: 2px 5px;
  display: block;
  margin: auto 0;
  border: 0;
  transition: 400ms;
  &.active {
    background-color: var(--bs-body-color);
    color: var(--body-background-color);
  }
}
nav {
  display: flex;
  margin-bottom: 1rem;
  ul {
    margin: auto 0 auto 1rem;
    padding: 0;
    list-style-type: none;
    li {
      a {
        text-decoration: none;
      }
    }
  }
}

.userdata, .auth{
  margin: auto 15px;
  h6 {
    margin: 0;
  }
}

.menu {
  display: flex;
  li {
    margin: 0 0.5rem;
  }
}

.to-dashboard {
  text-decoration: none;
}
@media screen and (max-width: 768px) {
  .menu-toggler {
    display: block;
  }
  .menu-wrapper {
    position: inherit;
  }
  .menu-content {
    position: absolute;
    background-color: var(--menu-content-background-color);
    padding: 1rem;
    font-size: 1.5rem;
    top: 0;
    left: 0;
    flex-direction: column;
    width: 100%;
    min-height: 100vh;
    // background-color: #ccc;
    transition: 400ms;
    left: -100%;
    .menu {
      flex-direction: column;
    }
  }

  .expanded {
    .menu-content {
      left: 0;
    }
  }

  .btn-sm {
    padding: 2px 7px;
    font-size: 1.5rem;
    border-radius: 5rem;
  }
  .theme-switcher {
    margin: 3rem auto 0;
    border-radius: 5rem;
  }
  .userdata {
    margin: 2rem 3.5rem auto;
    h6 {
      margin: 0;
      font-size: 24px;
    }
  }
  nav {
    ul {
      margin: 3rem 0 0 3rem;
      li {
        a {
          text-decoration: none;
          font-size: 24px;
          display: block;
          margin: 5px 0;
          transition: 400ms;
          position: relative;
          left: 0;
          &:hover {
            left: 5px;
          }
        }
      }
    }
  }
  .auth {
    margin-left: 3.5rem;
  }
  .logout {
    display: block;
  }
}
</style>
